<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Backend Development Textbook</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

  <link rel="stylesheet" type="text/css" href="stylesheets/code.css" />

  <link rel="stylesheet" type="text/css" href="stylesheets/fixes.css" />

  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <style>

    .slide img[src$=svg] {
      width: 100%;
    }
  </style>
</head>
<body class="guide">
  <div>
    <a href="https://github.com/backend-development/backend-development-textbook/"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 10;" src="images/forkme.png" alt="Fork me on GitHub"></a>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">More Rails: </strong>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://guides.rubyonrails.org/">Rails Guides</a></li>
        <li class="more-info"><a href="https://railsbridge.projects.multimediatechnology.at/docs/">Railsbridge</a></li>
        <li class="more-info"><a href="https://archive.org/details/podcast_railscasts_218282043">Railscasts</a></li>
      </ul>
      <strong class="more-info-label">Beyond Backend: </strong>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://web-engineering.github.io/">Web Engineering</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Return to home page">Backend<span> Development</span></a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-index guides-index-large">
          <a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu" class="guides-index-item nav-item">Index  &#x25BC;</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
              <dl class="L">
                <dt>Ruby on Rails</dt>
                <dd><a href="ruby_commandline.html">Ruby Commandline</a></dd>
                <dd><a href="rails_database_and_model.html">Database and Models</a></dd>
                <dd><a href="rails_associations_and_validations.html">Associations and Validations</a></dd>
                <dd><a href="rails_view_and_controller.html">Routing, View and Controller</a></dd>
                <dd><a href="rails_authentication.html">Simple Authentication</a></dd>
                <dd><a href="assets_and_webpacker.html">Assets and Webpacker</a></dd>
                <dd><a href="javascript_and_ajax.html">Javascript and Rails</a></dd>
                <dd><a href="testing.html">Getting started with Testing</a></dd>
                <dd><a href="rails_gems.html">Ruby Gems for your Rails Project</a></dd>
                <dd><a href="rest-api.html">REST API</a></dd>
                <dd><a href="graphql-api.html">GraphQL API</a></dd>
                <dd><a href="rails_websockets.html">Websocket in Rails</a></dd>
                <dd><a href="jobs_and_tasks.html">Jobs and Tasks in Rails</a></dd>
                <dd><a href="refactoring_rails.html">Refactoring Rails</a></dd>
                <dt>Overarching Concerns</dt>
                <dd><a href="security.html">Security</a></dd>
                <dd><a href="adv_authentication.html">Advanced Authentication</a></dd>
                <dd><a href="caching.html">Caching</a></dd>
                <dd><a href="advanced_testing.html">Advanced Testing</a></dd>
                <dd><a href="internationalization.html">Internationalization (I18n)</a></dd>
                <dt>Nodes.js</dt>
                <dd><a href="node_vs_rails.html">Node vs. Rails</a></dd>
                <dd><a href="node_basics.html">Node Basics</a></dd>
                <dd><a href="node_websockets.html">Node Websockets</a></dd>
                <dd><a href="node_express.html">Node Web App</a></dd>
                <dd><a href="node_cluster.html">Scaling Node</a></dd>
              </dl>
              <dl class="R">
              </dl>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2 id="preheader">no heading</h2>
                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li>
<a href="#validations">Validations</a>

<ul>
<li><a href="#defining-a-validation">Defining a Validation</a></li>
<li><a href="#other-validations">Other Validations</a></li>
<li><a href="#combining-validations">Combining Validations</a></li>
<li><a href="#checking-uniqueness-in-activerecord">Checking Uniqueness in ActiveRecord</a></li>
<li><a href="#checking-uniqueness-in-the-database">Checking Uniqueness in the Database</a></li>
<li><a href="#validations-and-forms">Validations and Forms</a></li>
</ul>
</li>
<li>
<a href="#associations">Associations</a>

<ul>
<li><a href="#1-n-associations">1:n Associations</a></li>
<li><a href="#database">Database</a></li>
<li><a href="#create-the-tables">Create the Tables</a></li>
<li><a href="#model">Model</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#explore-the-models">explore the models</a></li>
</ul>
</li>
<li><a href="#further-reading">Further reading</a></li>
</ol>

          </div>

      <div class="rest_header">
        
      </div>
    </div>
  </div>


  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <div class='slide'><a id='slide-0'></a>
</div>
<div class='slide'>
<a class='slide_break' id='slide-1' href='slides_rails_associations_and_validations.html#slide-1'>▻</a>
<h2>Rails: Associations and Validations</h2><p>After working through this guide you should</p>
<ul>
<li>Be able to write validations to check data before it is saved to the database</li>
<li>Be able to create models with associations to other models</li>
</ul>
<p>The examples were inspired by "Rails for Zombies", which used to be a free rails online course.
Sadly it is no longer available.</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-2' href='slides_rails_associations_and_validations.html#slide-2'>▻</a>
<hr>
</div>
<div class='slide'>
<a class='slide_break' id='slide-3' href='slides_rails_associations_and_validations.html#slide-3'>▻</a>
<h3 id="validations"><a class="anchorlink" href="#validations">1 Validations</a></h3><p>Validations are rules you want to enforce on the data in your models.</p><p>Validations are declared on the model. They are checked every time data is <strong>saved to the database</strong>. If the data does not conform to the validation, it is not saved, a false value is returned, and the error messages are available through the object.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-4' href='slides_rails_associations_and_validations.html#slide-4'>▻</a>
<p>An example on the rails console: I try to create a new tweet and save it,
but it can't be saved because a validation is in place:</p><div class="code_container">
<pre><code class="highlight ruby"><span class="o">&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="no">Tweet</span><span class="p">.</span><span class="nf">new</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;Tweet id: nil, status: nil, zombie: nil&gt;</span>
<span class="o">&gt;</span> <span class="n">t</span><span class="p">.</span><span class="nf">save</span>
<span class="o">=&gt;</span> <span class="kp">false</span>
<span class="o">&gt;</span> <span class="n">t</span><span class="p">.</span><span class="nf">errors</span>
<span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:status</span><span class="o">=&gt;</span><span class="p">[</span><span class="s2">"can't be blank"</span><span class="p">]}</span>
<span class="o">&gt;</span> <span class="n">t</span><span class="p">.</span><span class="nf">errors</span><span class="p">[</span><span class="ss">:status</span><span class="p">]</span>
<span class="o">=&gt;</span> <span class="s2">"can't be blank"</span>
</code></pre>
</div>
<p>Notice that the <code>save</code> method does not raise an exception,
but rather just returns a <code>false</code>. It is up to the calling
code to handle the error!</p></div>
<div class='slide'>
<a class='slide_break' id='slide-5' href='slides_rails_associations_and_validations.html#slide-5'>▻</a>
<h4 id="defining-a-validation"><a class="anchorlink" href="#defining-a-validation">1.1 Defining a Validation</a></h4><p>Validation are declared in the model:</p><div class="code_container">
<pre><code class="highlight ruby"><span class="k">class</span> <span class="nc">Tweet</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">validates</span> <span class="ss">:status</span><span class="p">,</span> <span class="ss">:zombie</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
<span class="k">end</span>
</code></pre>
</div>
<p>The presence validator calls the method <a href="https://edgeapi.rubyonrails.org/classes/Object.html#method-i-blank-3F"><code>blank?</code></a> on each of the value to check if they are present.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-6' href='slides_rails_associations_and_validations.html#slide-6'>▻</a>
<h4 id="other-validations"><a class="anchorlink" href="#other-validations">1.2 Other Validations</a></h4><p>There are many more helpers to create validations:</p><div class="code_container">
<pre><code class="highlight ruby">  <span class="n">validates</span> <span class="ss">:terms_of_service</span><span class="p">,</span>
    <span class="ss">acceptance: </span><span class="kp">true</span>
  <span class="n">validates</span> <span class="ss">:subdomain</span><span class="p">,</span> <span class="ss">exclusion: </span><span class="p">{</span>
    <span class="ss">in: </span><span class="sx">%w(www wiki)</span><span class="p">,</span>
    <span class="ss">message: </span><span class="s2">"%{value} is reserved."</span>
  <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:coursecode</span><span class="p">,</span> <span class="ss">format: </span><span class="p">{</span>
    <span class="ss">with: </span><span class="sr">/\A[a-zA-Z]+\z/</span><span class="p">,</span>
    <span class="ss">message: </span><span class="s2">"only allows letters"</span>
  <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:size</span><span class="p">,</span> <span class="ss">inclusion: </span><span class="p">{</span>
    <span class="ss">in: </span><span class="sx">%w(small medium large)</span><span class="p">,</span>
    <span class="ss">message: </span><span class="s2">"%{value} is not a valid size"</span>
  <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:name</span><span class="p">,</span>                <span class="ss">length: </span><span class="p">{</span> <span class="ss">minimum: </span><span class="mi">2</span> <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:bio</span><span class="p">,</span>                 <span class="ss">length: </span><span class="p">{</span> <span class="ss">maximum: </span><span class="mi">500</span> <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:password</span><span class="p">,</span>            <span class="ss">length: </span><span class="p">{</span> <span class="ss">in: </span><span class="mi">6</span><span class="o">..</span><span class="mi">20</span> <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:registration_number</span><span class="p">,</span> <span class="ss">length: </span><span class="p">{</span> <span class="ss">is: </span><span class="mi">6</span> <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:width_in_cm</span><span class="p">,</span>  <span class="ss">numericality: </span><span class="kp">true</span>
  <span class="n">validates</span> <span class="ss">:games_played</span><span class="p">,</span> <span class="ss">numericality: </span><span class="p">{</span> <span class="ss">only_integer: </span><span class="kp">true</span> <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:boolean_field_name</span><span class="p">,</span> <span class="ss">inclusion: </span><span class="p">{</span> <span class="ss">in: </span><span class="p">[</span><span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="p">]</span> <span class="p">}</span>
  <span class="n">validates</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">uniqueness: </span><span class="kp">true</span>
  <span class="n">validates</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">confirmation: </span><span class="kp">true</span>
</code></pre>
</div>
<p>The confirmation validator checks that there are two properties: in the example
this will be the <code>email</code> property and the <code>email_confirmation</code> property. Both
need to be equal.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-7' href='slides_rails_associations_and_validations.html#slide-7'>▻</a>
<h4 id="combining-validations"><a class="anchorlink" href="#combining-validations">1.3 Combining Validations</a></h4><p>You can combine several properties that should be checked:</p><div class="code_container">
<pre><code class="highlight ruby">  <span class="n">validates</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:login</span><span class="p">,</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
</code></pre>
</div>
<p>or you can combine several validations on one property:</p><div class="code_container">
<pre><code class="highlight ruby">  <span class="ss">:coursecode</span><span class="p">,</span>
    <span class="ss">format: </span><span class="p">{</span> <span class="ss">with: </span><span class="sr">/\A[a-zA-Z]+\z/</span><span class="p">,</span> <span class="ss">message: </span><span class="s2">"only allows letters"</span> <span class="p">},</span>
    <span class="ss">length: </span><span class="p">{</span> <span class="ss">is: </span><span class="mi">10</span> <span class="p">}</span>
</code></pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-8' href='slides_rails_associations_and_validations.html#slide-8'>▻</a>
<h4 id="checking-uniqueness-in-activerecord"><a class="anchorlink" href="#checking-uniqueness-in-activerecord">1.4 Checking Uniqueness in ActiveRecord</a></h4><p>Validations are checked by Ruby code <strong>before</strong> data is inserted
in the database. If you want to ensure that the e-mails of your users
are unique, you can do so in Rails, by adding</p><div class="code_container">
<pre><code class="highlight ruby">  <span class="n">validates</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">uniqueness: </span><span class="kp">true</span>
</code></pre>
</div>
<p>The validation happens by performing an SQL query into the model's table, searching for an existing record with the same value in that attribute. An error is reported by
returning a false value from <code>save</code> and setting the <code>errors</code> attribute.</p><p>If we run this in the console we can see the SQL:</p><div class="code_container">
<pre><code class="highlight plaintext">&gt; u3 = User.new(name: 'Ash', email: 'b@a.com')
&gt; u3.save
  BEGIN
  SELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2  [["email", "b@a.com"], ["LIMIT", 1]]
  INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["name", "Ash"], ["email", "b@a.com"], ["created_at", "2020-11-24 10:02"], ["updated_at", "2020-11-24 10:02"]]
  COMMIT
</code></pre>
</div>
<p>We can see a transaction from <code>BEGIN</code> to <code>COMMIT</code>.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-9' href='slides_rails_associations_and_validations.html#slide-9'>▻</a>
<h4 id="checking-uniqueness-in-the-database"><a class="anchorlink" href="#checking-uniqueness-in-the-database">1.5 Checking Uniqueness in the Database</a></h4><p>You could also achieve the same effect using a <a href="https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-UNIQUE-CONSTRAINTS">UNIQUE CONSTRAINT</a> in your database:</p><div class="code_container">
<pre><code class="highlight plaintext">class AddUniqConstraint &lt; ActiveRecord::Migration[6.0]
  def change
    add_index :users, :email, unique: true
  end
end
</code></pre>
</div>
<p>When Constraints in the Database are broken an exception is raised:</p><div class="code_container">
<pre><code class="highlight plaintext">&gt; u3 = User.new(name: 'Ash', email: 'b@a.com')
&gt; u3.save
  BEGIN
  INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["name", "Ash"], ["email", "b@a.com"], ["created_at", "2020-11-24 10:12:25.789051"], ["updated_at", "2020-11-24 10:12:25.789051"]]
  ROLLBACK
Traceback (most recent call last):
        1: from (irb):2
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email")
DETAIL:  Key (email)=(b@a.com) already exists.
</code></pre>
</div>
<p>You can see that the exception is of class <code>ActiveRecord::RecordNotUnique</code> and contains
a description "Key (email)=(<a href="mailto:b@a.com">b@a.com</a>) already exists".</p></div>
<div class='slide'>
<a class='slide_break' id='slide-10' href='slides_rails_associations_and_validations.html#slide-10'>▻</a>
<h4 id="validations-and-forms"><a class="anchorlink" href="#validations-and-forms">1.6 Validations and Forms</a></h4><p>Later, when we learn about Views and Forms, you will see
that the save / validate / errors lifecycle fits perfectly with
the way that forms are handled in Rails. See <a href="/rails_view_and_controller.html">Rails: View and Controller</a></p></div>
<div class='slide'>
<a class='slide_break' id='slide-11' href='slides_rails_associations_and_validations.html#slide-11'>▻</a>
<h3 id="associations"><a class="anchorlink" href="#associations">2 Associations</a></h3><p>If you have used relational databases before you are probably familiar
with the different types of associations or relationships between database tables.</p><p>We will only look at 1:n Relationships for now.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-12' href='slides_rails_associations_and_validations.html#slide-12'>▻</a>
<h4 id="1-n-associations"><a class="anchorlink" href="#1-n-associations">2.1 1:n Associations</a></h4><p>If you have used relational databases before you are probably familiar
with the different types of associations between database tables. But even
if you have not, the first association is easy to understand:</p><div class="code_container">
<pre><code class="highlight plaintext">One Zombie has many Tweets          One Tweet belongs to one Zombie

Zombie Ash  ----------------------- Tweet 'arg'
            \---------------------- Tweet 'aarrrrrgggh'
             \--------------------- Tweet 'aaaarrrrrrrrrgggh'

Zombie Sue ------------------------ Tweet 'gagaga'
</code></pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-13' href='slides_rails_associations_and_validations.html#slide-13'>▻</a>
<h4 id="database"><a class="anchorlink" href="#database">2.2 Database</a></h4><p>In the table <code>tweets</code> there is a column <code>zombie_id</code> which references <code>zombies.id</code>.
This column in <code>tweets</code> is called a "foreign key".</p></div>
<div class='slide'>
<a class='slide_break' id='slide-14' href='slides_rails_associations_and_validations.html#slide-14'>▻</a>
<h4 id="create-the-tables"><a class="anchorlink" href="#create-the-tables">2.3 Create the Tables</a></h4><p>You can either add this column when you first create Tweets:</p><div class="code_container">
<pre><code class="highlight plaintext">rails generate model tweet status:string zombie:references
</code></pre>
</div>
<p>You can add the column later, to an existing <code>tweets</code> table, using just a migration</p><div class="code_container">
<pre><code class="highlight plaintext">$ rails generate migration AddZombieToTweets zombie:references
</code></pre>
</div>
<p>this will generate a migration with the following command</p><div class="code_container">
<pre><code class="highlight ruby">    <span class="n">add_reference</span> <span class="ss">:tweets</span><span class="p">,</span> <span class="ss">:zombie</span><span class="p">,</span> <span class="ss">null: </span><span class="kp">false</span><span class="p">,</span> <span class="ss">foreign_key: </span><span class="kp">true</span>
</code></pre>
</div>
<p>If you ever mistype your <code>rails generate ...</code> line, you can undo it by running <code>rails destroy ...</code>.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-15' href='slides_rails_associations_and_validations.html#slide-15'>▻</a>
<h4 id="model"><a class="anchorlink" href="#model">2.4 Model</a></h4><p>You have to declare associations in both models, by
editing the two files in <code>app/models/*.rb</code>.</p><p>1:n associations are declared with <code>belongs_to</code> and <code>has_many</code>:</p><div class="code_container">
<pre><code class="highlight ruby"><span class="c1"># in file app/models/zombie.rb</span>
<span class="k">class</span> <span class="nc">Zombie</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">has_many</span> <span class="ss">:tweets</span>
<span class="k">end</span>

<span class="c1"># in file app/models/tweet.rb</span>
<span class="k">class</span> <span class="nc">Tweet</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">belongs_to</span> <span class="ss">:zombie</span>
<span class="k">end</span>
</code></pre>
</div>
<p>Notice the plural used with <code>has_many</code> and the singular used with <code>belongs_to</code>.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-16' href='slides_rails_associations_and_validations.html#slide-16'>▻</a>
<h4 id="methods"><a class="anchorlink" href="#methods">2.5 Methods</a></h4><p>There are now methods available to walk from one model to the other:</p><div class="code_container">
<pre><code class="highlight ruby"><span class="c1"># from zweet to zombie</span>
<span class="n">t</span> <span class="o">=</span> <span class="no">Tweet</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="nf">zombie</span>

<span class="c1"># from zombie to tweets</span>
<span class="n">z</span> <span class="o">=</span> <span class="no">Zombie</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">z</span><span class="p">.</span><span class="nf">tweets</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">t</span><span class="p">.</span><span class="nf">status</span>
<span class="k">end</span>
</code></pre>
</div>
<p>Again: notice the plural <code>tweets</code> and singular <code>zombie</code>.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-17' href='slides_rails_associations_and_validations.html#slide-17'>▻</a>
<p>You can also use a model to create associated models:</p><div class="code_container">
<pre><code class="highlight ruby"><span class="n">z</span> <span class="o">=</span> <span class="no">Zombie</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">z</span><span class="p">.</span><span class="nf">tweets</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">status: </span><span class="s2">"I'm alive!"</span><span class="p">)</span>
<span class="n">z</span><span class="p">.</span><span class="nf">tweets</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">status: </span><span class="s2">"Correction: I'm dead. But still moving."</span><span class="p">)</span>
<span class="n">z</span><span class="p">.</span><span class="nf">tweets</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">status: </span><span class="s2">"Why did my arm just fall off?"</span><span class="p">)</span>
</code></pre>
</div>
<p>You can find a list of all the new methods added by the
association in the Rails Guide under <a href="https://guides.rubyonrails.org/association_basics.html#belongs-to-association-reference">Methods Added by belongs_to</a> and
<a href="https://guides.rubyonrails.org/association_basics.html#has-many-association-reference">Methods Added by has_many</a>.</p></div>
<div class='slide'>
<a class='slide_break' id='slide-18' href='slides_rails_associations_and_validations.html#slide-18'>▻</a>
<h4 id="explore-the-models"><a class="anchorlink" href="#explore-the-models">2.6 explore the models</a></h4><p><code>User.reflect_on_association</code></p></div>
<div class='slide'>
<a class='slide_break' id='slide-19' href='slides_rails_associations_and_validations.html#slide-19'>▻</a>
<h3 id="further-reading"><a class="anchorlink" href="#further-reading">3 Further reading</a></h3>
<ul>
<li>The Rails Guides give a good introduction to a subject area:

<ul>
<li>Rails Guide: <a href="https://guides.rubyonrails.org/active_record_validations_callbacks.html">Active Record Validations and Callbacks</a>
</li>
<li>Rails Guide: <a href="https://guides.rubyonrails.org/association_basics.html">Active Record Associations</a>
</li>
</ul>
</li>
<li>Use the <a href="https://edgeapi.rubyonrails.org/">Rails API</a> documentation to look up the details:

<ul>
<li><a href="https://edgeapi.rubyonrails.org/classes/ActiveRecord/Validations/ClassMethods.html#method-i-validates_presence_of">validates_presence_of</a></li>
<li><a href="https://edgeapi.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many">has_many</a></li>
</ul>
</li>
</ul>
</div>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p class="copyright">published under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/at/deed.de">creative commons by-nc-sa</a> in 2012-2022 by <a href="https://brigitte-jellinek.at">Brigitte Jellinek</a>.
      </p><p>If you want to contribute: <a href="https://github.com/backend-development/backend-development-textbook/fork">fork the source on github</a>
      </p>
    </div>
  </div>

  <script src="javascripts/jquery.min.js"></script>
  <script src="javascripts/guides.js"></script>
  <script>
    SyntaxHighlighter.all()
    $(guidesIndex.bind);
    $(document).ready(function(){
      let hash = document.location.hash;
      if(! hash) return;
      document.getElementById(hash.substr(1)).scrollIntoView(true);
    })
  </script>
  </body>
</html>
