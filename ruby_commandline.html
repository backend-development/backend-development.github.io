<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ruby — Ruby on Rails Guides</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/style.css" data-turbo-track="reload">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/highlight.css" data-turbo-track="reload">
    <link rel="icon" href="images/backend-development.svg" sizes="any">
    <script src="javascripts/@hotwired--turbo.js" data-turbo-track="reload"></script>
    <script src="javascripts/clipboard.js" data-turbo-track="reload"></script>
    <script src="javascripts/guides.js" data-turbo-track="reload"></script>
    <meta property="og:title" content="Ruby — Ruby on Rails Guides" />
    <meta name="description" content="RubyThis guide will focus on Ruby - the language - alone.After finishing this guide you will have an overview of Ruby&#39;s type system be able to use list processing functions in Ruby be able to use blocks and yield in Ruby. Fork the learn_ruby repository to try some test driven ruby learning" />
    <meta property="og:description" content="RubyThis guide will focus on Ruby - the language - alone.After finishing this guide you will have an overview of Ruby&#39;s type system be able to use list processing functions in Ruby be able to use blocks and yield in Ruby. Fork the learn_ruby repository to try some test driven ruby learning" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Textbook Backend Developemnt" />
    <meta property="og:image" content="images/backend-development.svg" />
    <meta property="og:type" content="website" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@100..900&family=Noto+Sans+Arabic:wght@100..900&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#2e56e9">
  </head>
  <body class="guide">
    <header id="page_header">
      <div class="wrapper clearfix">
        <nav id="feature_nav">
          <div class="header-logo">
            <a href="/">Backend Development</a>
          </div>
          <ul class="nav">
            <li><a class="nav-item" id="home_nav" href="/">Home</a></li>
            <li class="guides-index guides-index-large">
              <a href="index.html" id="guidesMenu" class="guides-index-item nav-item">Index</a>
              <div id="guides" class="clearfix" style="display: none;">
                <hr />
                <dl class="guides-section-container">
                    <div class="guides-section">
                      <dt>Ruby on Rails</dt>
                        <dd><a href="ruby_commandline.html">Ruby Commandline</a></dd>
                        <dd><a href="rails_database_and_model.html">Models and ActiveRecord</a></dd>
                        <dd><a href="rails_db.html">Database and Migrations</a></dd>
                        <dd><a href="rails_associations_and_validations.html">Associations and Validations</a></dd>
                        <dd><a href="rails_view_and_controller.html">Routing, View and Controller</a></dd>
                        <dd><a href="rails_authentication.html">Simple Authentication</a></dd>
                        <dd><a href="asset_pipeline.html">The Asset Pipeline</a></dd>
                        <dd><a href="javascript_and_ajax.html">Rails and old Javascript</a></dd>
                        <dd><a href="javascript_webpack_frontend.html">Rails and Webpack</a></dd>
                        <dd><a href="testing.html">Getting started with Testing</a></dd>
                        <dd><a href="rails_gems.html">Ruby Gems for your Rails Project</a></dd>
                        <dd><a href="rest-api.html">REST API</a></dd>
                        <dd><a href="graphql-api.html">GraphQL API</a></dd>
                        <dd><a href="rails_websockets.html">Websocket in Rails</a></dd>
                        <dd><a href="jobs_and_tasks.html">Jobs and Tasks in Rails</a></dd>
                        <dd><a href="refactoring_rails.html">Refactoring Rails</a></dd>
                        <dd><a href="rails_security.html">Rails Security</a></dd>
                    </div>
                    <div class="guides-section">
                      <dt>Overarching Concerns</dt>
                        <dd><a href="security.html">Security</a></dd>
                        <dd><a href="adv_authentication.html">Advanced Authentication</a></dd>
                        <dd><a href="caching.html">Caching</a></dd>
                        <dd><a href="advanced_testing.html">Advanced Testing</a></dd>
                        <dd><a href="internationalization.html">Internationalization (I18n)</a></dd>
                        <dd><a href="git_rebasing.html">Git Rebasing</a></dd>
                    </div>
                    <div class="guides-section">
                      <dt>Nodes.js</dt>
                        <dd><a href="node_vs_rails.html">Node vs. Rails</a></dd>
                        <dd><a href="node_basics.html">Node Basics</a></dd>
                        <dd><a href="node_websockets.html">Node Websockets</a></dd>
                        <dd><a href="node_express.html">Node Web App</a></dd>
                        <dd><a href="node_cluster.html">Scaling Node</a></dd>
                    </div>
                    <div class="guides-section">
                      <dt>Next.js</dt>
                        <dd><a href="nextjs.html">Next.js</a></dd>
                    </div>
                </dl>
              </div>
            </li>
            <li class="guides-index guides-index-small">
              <select class="guides-index-item nav-item">
                <option value="index.html">Index</option>
                  <optgroup label="Ruby on Rails">
                      <option value="ruby_commandline.html">Ruby Commandline</option>
                      <option value="rails_database_and_model.html">Models and ActiveRecord</option>
                      <option value="rails_db.html">Database and Migrations</option>
                      <option value="rails_associations_and_validations.html">Associations and Validations</option>
                      <option value="rails_view_and_controller.html">Routing, View and Controller</option>
                      <option value="rails_authentication.html">Simple Authentication</option>
                      <option value="asset_pipeline.html">The Asset Pipeline</option>
                      <option value="javascript_and_ajax.html">Rails and old Javascript</option>
                      <option value="javascript_webpack_frontend.html">Rails and Webpack</option>
                      <option value="testing.html">Getting started with Testing</option>
                      <option value="rails_gems.html">Ruby Gems for your Rails Project</option>
                      <option value="rest-api.html">REST API</option>
                      <option value="graphql-api.html">GraphQL API</option>
                      <option value="rails_websockets.html">Websocket in Rails</option>
                      <option value="jobs_and_tasks.html">Jobs and Tasks in Rails</option>
                      <option value="refactoring_rails.html">Refactoring Rails</option>
                      <option value="rails_security.html">Rails Security</option>
                  </optgroup>
                  <optgroup label="Overarching Concerns">
                      <option value="security.html">Security</option>
                      <option value="adv_authentication.html">Advanced Authentication</option>
                      <option value="caching.html">Caching</option>
                      <option value="advanced_testing.html">Advanced Testing</option>
                      <option value="internationalization.html">Internationalization (I18n)</option>
                      <option value="git_rebasing.html">Git Rebasing</option>
                  </optgroup>
                  <optgroup label="Nodes.js">
                      <option value="node_vs_rails.html">Node vs. Rails</option>
                      <option value="node_basics.html">Node Basics</option>
                      <option value="node_websockets.html">Node Websockets</option>
                      <option value="node_express.html">Node Web App</option>
                      <option value="node_cluster.html">Scaling Node</option>
                  </optgroup>
                  <optgroup label="Next.js">
                      <option value="nextjs.html">Next.js</option>
                  </optgroup>
              </select>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    <hr class="hide" />
    <section id="feature">
      <div class="wrapper">
        <h1>Ruby</h1><p>This guide will focus on Ruby - the language - alone.</p><p>After finishing this guide you will</p>
<ul>
<li>have an overview of Ruby&#39;s type system</li>
<li>be able to use list processing functions in Ruby</li>
<li>be able to use blocks and <code>yield</code> in Ruby.</li>
</ul>
<div class="interstitial repo"><p>Fork the <a href="https://github.com/backend-development/learn_ruby">learn_ruby</a> repository to try some test driven ruby learning</p></div>
                  <nav id="subCol">
            <h3 class="chapter">
              <picture>
                <!-- Using the `source`  HTML tag to set the dark theme image -->
                <source
                  srcset="images/icon_book-close-bookmark-1-wht.svg"
                  media="(prefers-color-scheme: dark)"
                />
                <img src="images/icon_book-close-bookmark-1.svg" alt="Chapter Icon" />
              </picture>
              Chapters
            </h3>
            <ol class="chapters">
<li><a href="#what-is-ruby">What is Ruby</a>

<ul>
<li><a href="#what-is-ruby-on-rails">What is Ruby on Rails</a></li>
<li><a href="#why-ruby-questionmark-why-rails-questionmark">Why Ruby? Why Rails ?</a></li>
</ul></li>
<li><a href="#ruby-basics">Ruby Basics</a>

<ul>
<li><a href="#some-code-conventions">Some code conventions</a></li>
</ul></li>
<li><a href="#methods">Methods</a>

<ul>
<li><a href="#definig-a-method">Definig a Method</a></li>
<li><a href="#return-value">Return Value</a></li>
<li><a href="#keyword-arguments">Keyword Arguments</a></li>
</ul></li>
<li><a href="#object-orientation">Object Orientation</a>

<ul>
<li><a href="#the-save-navigation-operator">The 'Save Navigation' Operator</a></li>
</ul></li>
<li><a href="#type-system">Type System</a>

<ul>
<li><a href="#strict-type-checking">Strict Type Checking</a></li>
<li><a href="#strings">Strings</a></li>
<li><a href="#boolean-values">Boolean Values</a></li>
<li><a href="#symbols">Symbols</a></li>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#hashes">Hashes</a></li>
</ul></li>
<li><a href="#frozen-vs-mutable">Frozen vs Mutable</a>

<ul>
<li><a href="#frozen-string-literals">Frozen String Literals</a></li>
</ul></li>
<li><a href="#conditions">Conditions</a>

<ul>
<li><a href="#shorthand-version">Shorthand version</a></li>
<li><a href="#boolean-operators-as-conditions">Boolean Operators as conditions</a></li>
</ul></li>
<li><a href="#enumerables">Enumerables</a>

<ul>
<li><a href="#piping-data">Piping Data</a></li>
<li><a href="#piping-data-in-ruby">Piping Data in Ruby</a></li>
</ul></li>
<li><a href="#blocks">Blocks</a>

<ul>
<li><a href="#my-function-takes-a-block-of-code">My Function takes a Block of Code</a></li>
</ul></li>
<li><a href="#summary">Summary</a>

<ul>
<li><a href="#online-resources">Online Resources</a></li>
<li><a href="#books">Books</a></li>
</ul></li>
</ol>

          </nav>

        <hr>
      </div>
    </section>
    <main id="container">
      <div class="wrapper">
        <div id="mainCol">
          <div class='slide'>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-0' href='slides_ruby_commandline.html#/0'>◻</a></p>
<h2 id="what-is-ruby"><a class="anchorlink" href="#what-is-ruby"><span>1</span> What is Ruby</a></h2><p><img src="images/Ruby_logo.png" alt="Ruby Logo"></p><p>Ruby is an open source project. It was started
in 1996 by Yukihiro 'Matz' Matsumoto. He is still
the "benevolent dictator" who decides on the future of the language.</p><p>In a colossal break with tradition he did not
choose a name starting with p for his scripting language
(think perl, python, php) but opted for r instead.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-1' href='slides_ruby_commandline.html#/1'>◻</a></p>
<p>Ruby is a thoroughly object oriented scripting language.
Even basic data types are object:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="mi">1</span><span class="p">.</span><span class="nf">to_s</span>
<span class="o">=&gt;</span> <span class="s2">"1"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="1.to_s
=> &quot;1&quot;
">Copy</button>
</div>
<p>In this example the number 1 is used as an object, the method <code>to_s</code> is
called on it. The result is an Object of class String.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-2' href='slides_ruby_commandline.html#/2'>◻</a></p>
<h3 id="what-is-ruby-on-rails"><a class="anchorlink" href="#what-is-ruby-on-rails"><span>1.1</span> What is Ruby on Rails</a></h3><p><img src="images/Ruby_on_Rails_logo.png" alt="Ruby on Rails Logo"></p><p>Ruby on Rails is a web framework written in Ruby.
It was created by David Heinemeier Hansson ('DHH') starting in 2005.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-3' href='slides_ruby_commandline.html#/3'>◻</a></p>
<p>Rails is famous for the high productivity it gives to developers. It
is often used in startups, where speed of delivery is very important.
Rails moves fast, new versions with major improvement appear about every 18
months. The Rails community values speed of development, DRY code, testing,
version control, ... when you learn Rails you also pick up a whole culture
surrounding it.</p><p>Some sites built with Rails are: <a href="https://github.com">GitHub</a> and <a href="https://gitlab.com">GitLab</a>, <a href="https://shopify.com">Shopify</a>, <a href="https://www.fiverr.com/">Fiverr</a>, <a href="https://codepen.io/">codepen.io</a>, <a href="https://airbnb.com">Airbnb</a>, <a href="https://blog.twitch.tv/en/2015/12/18/twitch-engineering-an-introduction-and-overview-a23917b71a25/">Twitch</a>, <a href="https://squareup.com/">Square</a>, <a href="https://dribbble.com/">Dribble</a> and of course <a href="https://basecamp.com">Basecamp</a>, DHHs own product.</p><p>Read <a href="https://about.gitlab.com/blog/2018/10/29/why-we-use-rails-to-build-gitlab/">GitLab's article about why they use Rails</a></p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-4' href='slides_ruby_commandline.html#/4'>◻</a></p>
<h3 id="why-ruby-questionmark-why-rails-questionmark"><a class="anchorlink" href="#why-ruby-questionmark-why-rails-questionmark"><span>1.2</span> Why Ruby? Why Rails ?</a></h3><p>Why should you use Ruby and Rails over other programming languages
and frameworks?</p><p>Because of the cool t-shirts?</p><p><img src="images/ruby-and-rails-t-shirts.png" alt="Ruby and Rails T-Shirts"></p>
<ul>
<li>Because you want to be a highly productive web developer?</li>
<li>Because you want to be a well payed developer?</li>
</ul>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-5' href='slides_ruby_commandline.html#/5'>◻</a></p>
<p><a href="https://survey.stackoverflow.co/2024/work/#3-salary-and-experience-by-language">StackOverflows Survey from 2024</a> shows there are fewer Ruby developers, but they are better payed:</p><p><img src="images/salary-2024.png" alt=""></p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-6' href='slides_ruby_commandline.html#/6'>◻</a></p>
<h2 id="ruby-basics"><a class="anchorlink" href="#ruby-basics"><span>2</span> Ruby Basics</a></h2><p>To get to know Ruby you don't need to write
whole programes. You can start out with <strong>interactive ruby - irb</strong>.
When you start irb you get a command line to type in Ruby code. When
you press enter the code is evaluated immediately and you get the result.
Use the commands <code>exit</code> or <code>quit</code> or the key combination CONTROL-D to get out.</p><p>In this guide we will show code run in irb by marking the prompt as <code>&gt;&gt;</code> and
the result as <code>=&gt;</code>, for example:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
<span class="o">=&gt;</span> <span class="mi">4</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> 2 + 2
=> 4
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-7' href='slides_ruby_commandline.html#/7'>◻</a></p>
<h3 id="some-code-conventions"><a class="anchorlink" href="#some-code-conventions"><span>2.1</span> Some code conventions</a></h3><p>Try to stick to <a href="https://rubystyle.guide/">github's style for ruby</a>.</p><p>When you choose names for your objects, classes and methods
you should stick to the following conventions to avoid
confusing other Ruby developers:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">the_variable</span> <span class="o">=</span> <span class="no">SomeClass</span><span class="p">.</span><span class="nf">new</span>
             <span class="c1"># variables are written in snake_case</span>
             <span class="c1"># classes in capital CamelCase</span>

             <span class="c1"># method names are written in snake_case</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="nf">sugar</span>  <span class="c1"># a method that returns something</span>
<span class="n">b</span><span class="p">.</span><span class="nf">sweet?</span>     <span class="c1"># a method that returns true or false</span>
             <span class="c1"># ends in a question mark</span>
<span class="n">b</span><span class="p">.</span><span class="nf">sugar!</span>     <span class="c1"># a method that changes its object</span>
             <span class="c1"># ends in an exclamation mark</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="the_variable = SomeClass.new
             # variables are written in snake_case
             # classes in capital CamelCase

             # method names are written in snake_case
a = b.sugar  # a method that returns something
b.sweet?     # a method that returns true or false
             # ends in a question mark
b.sugar!     # a method that changes its object
             # ends in an exclamation mark
">Copy</button>
</div>
<p>In the last two examples the punctuation marks are really
part of the method names!</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-8' href='slides_ruby_commandline.html#/8'>◻</a></p>
<h2 id="methods"><a class="anchorlink" href="#methods"><span>3</span> Methods</a></h2><p>When calling a method,
the parantheses around the arguments are optional.
Leave them off unless your code get's confusing:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="nb">puts</span><span class="p">(</span><span class="s2">"less code"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="s2">"less code"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="puts(&quot;less code&quot;)
puts &quot;less code&quot;
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-9' href='slides_ruby_commandline.html#/9'>◻</a></p>
<h3 id="definig-a-method"><a class="anchorlink" href="#definig-a-method"><span>3.1</span> Definig a Method</a></h3><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Hello World"</span>
  <span class="nb">puts</span> <span class="s2">"I'm just ignoring my arguments for now"</span>
<span class="k">end</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="def f(a,b)
  puts &quot;Hello World&quot;
  puts &quot;I'm just ignoring my arguments for now&quot;
end
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-10' href='slides_ruby_commandline.html#/10'>◻</a></p>
<h3 id="return-value"><a class="anchorlink" href="#return-value"><span>3.2</span> Return Value</a></h3><p>Methods in Ruby return the last expression - even
if no explicit <code>return</code> statement is given.</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
  <span class="s2">"x"</span>
<span class="k">end</span>

<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># returns "x"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="def f(a,b)
  &quot;x&quot;
end

f(1,42)  # returns &quot;x&quot;
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-11' href='slides_ruby_commandline.html#/11'>◻</a></p>
<h3 id="keyword-arguments"><a class="anchorlink" href="#keyword-arguments"><span>3.3</span> Keyword Arguments</a></h3><p>Since ruby 2.0 keyword arguments can be used,
and can be given default values:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">def</span> <span class="nf">apply_the_style</span><span class="p">(</span><span class="ss">font_family: </span><span class="s1">'MS Comic Sans'</span><span class="p">,</span> <span class="ss">font_size: </span><span class="mi">16</span> <span class="p">)</span>
  <span class="o">...</span>
<span class="k">end</span>

<span class="n">apply_the_style</span><span class="p">()</span>    <span class="c1"># uses both default values</span>
<span class="n">apply_the_style</span><span class="p">(</span><span class="ss">font_family: </span><span class="s2">"Arial"</span><span class="p">)</span>
<span class="n">apply_the_style</span><span class="p">(</span><span class="ss">font_size: </span><span class="mi">10</span><span class="p">,</span> <span class="ss">font_family: </span><span class="s2">"Arial"</span><span class="p">)</span>  <span class="c1"># order can be different</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="def apply_the_style(font_family: 'MS Comic Sans', font_size: 16 )
  ...
end

apply_the_style()    # uses both default values
apply_the_style(font_family: &quot;Arial&quot;)
apply_the_style(font_size: 10, font_family: &quot;Arial&quot;)  # order can be different
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-12' href='slides_ruby_commandline.html#/12'>◻</a></p>
<h2 id="object-orientation"><a class="anchorlink" href="#object-orientation"><span>4</span> Object Orientation</a></h2><p>Everything is an Object, even Integers and Strings.
They have methods and properties, like other objects:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="kp">nil</span><span class="p">.</span><span class="nf">class</span>
<span class="o">=&gt;</span> <span class="no">NilClass</span>

<span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">.</span><span class="nf">class</span>
<span class="o">=&gt;</span> <span class="no">Fixnum</span>

<span class="o">&gt;&gt;</span> <span class="s2">"some text"</span><span class="p">.</span><span class="nf">length</span>
<span class="o">=&gt;</span> <span class="mi">9</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> nil.class
=> NilClass

>> 2.class
=> Fixnum

>> &quot;some text&quot;.length
=> 9
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-13' href='slides_ruby_commandline.html#/13'>◻</a></p>
<h3 id="the-save-navigation-operator"><a class="anchorlink" href="#the-save-navigation-operator"><span>4.1</span> The 'Save Navigation' Operator</a></h3><p>Imagine you have an Object <code>a</code>, that has a property <code>b</code> containing
another object, and <code>b</code> has a property <code>c</code>. You can access <code>c</code> through <code>a.b.c</code></p><p>But if <code>a</code> is <code>nil</code> then you will get an error:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;</span> <span class="n">a</span><span class="p">.</span><span class="nf">b</span><span class="p">.</span><span class="nf">c</span>
<span class="no">NoMethodError</span><span class="p">:</span> <span class="n">undefined</span> <span class="nb">method</span> <span class="sb">`b' for nil:NilClass
</span></code></pre>
<button class="clipboard-button" data-clipboard-text="> a.b.c
NoMethodError: undefined method `b' for nil:NilClass
">Copy</button>
</div>
<p>The Operator <code>&amp;.</code> avoids this error.  It is called "save navigation operator" or sometimes "lonely operator".</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;</span> <span class="n">a</span><span class="o">&amp;</span><span class="p">.</span><span class="nf">b</span><span class="o">&amp;</span><span class="p">.</span><span class="nf">c</span>
<span class="kp">nil</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="> a&amp;.b&amp;.c
nil
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-14' href='slides_ruby_commandline.html#/14'>◻</a></p>
<h2 id="type-system"><a class="anchorlink" href="#type-system"><span>5</span> Type System</a></h2><p>All of Ruby's basic data types are Classes.</p>
<ul>
<li>nil  <code># NilClass</code></li>
<li>Numeric, Integer, Fixnum, Bignum, Float <code># are converted automatically to each other</code></li>
<li>Ranges</li>
<li>String</li>
<li>true <code># TrueClass</code></li>
<li>false <code># FalseClass</code></li>
<li>Symbol</li>
<li>Array</li>
<li>Hash</li>
<li>Object</li>
<li>Regex</li>
</ul>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-15' href='slides_ruby_commandline.html#/15'>◻</a></p>
<h3 id="strict-type-checking"><a class="anchorlink" href="#strict-type-checking"><span>5.1</span> Strict Type Checking</a></h3><p>Ruby is strict about data types, there is no automatic conversion except
between numeric types.</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="s2">"a string"</span> <span class="o">+</span> <span class="s2">"another"</span>
<span class="o">=&gt;</span> <span class="s2">"a stringanother"</span>

<span class="o">&gt;&gt;</span> <span class="s2">"a string"</span> <span class="o">+</span> <span class="mi">2</span>
<span class="no">TypeError</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="no">Fixnum</span> <span class="n">into</span> <span class="no">String</span>

<span class="o">&gt;&gt;</span> <span class="mi">42</span> <span class="o">+</span> <span class="mf">3.141</span>
<span class="o">=&gt;</span> <span class="mf">45.141</span>

<span class="o">&gt;&gt;</span> <span class="s2">":-)"</span> <span class="o">*</span> <span class="mi">4</span>
<span class="o">=&gt;</span> <span class="s2">":-):-):-):-)"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> &quot;a string&quot; + &quot;another&quot;
=> &quot;a stringanother&quot;

>> &quot;a string&quot; + 2
TypeError: no implicit conversion of Fixnum into String

>> 42 + 3.141
=> 45.141

>> &quot;:-)&quot; * 4
=> &quot;:-):-):-):-)&quot;
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-16' href='slides_ruby_commandline.html#/16'>◻</a></p>
<h3 id="strings"><a class="anchorlink" href="#strings"><span>5.2</span> Strings</a></h3><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">s</span> <span class="o">=</span> <span class="s1">'just a string of characters'</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">"string with </span><span class="si">#{</span><span class="n">the_variable</span><span class="si">}</span><span class="s2"> embedded"</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">"string with </span><span class="si">#{</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">/</span><span class="n">c</span><span class="si">}</span><span class="s2"> a ruby expression embedded"</span>
<span class="n">s</span> <span class="o">=</span> <span class="o">&lt;&lt;</span><span class="no">EOM</span><span class="sh">
This is a so called "Here-Document"
it can contain many lines of text
and ends with the identifier EOM (that i chose!)
but only if it's alone on a line all by itself:
</span><span class="no">EOM</span>
<span class="n">s</span> <span class="o">=</span> <span class="sx">%Q|with %Q you can chose any character als string delimiters|</span>
<span class="n">s</span> <span class="o">=</span> <span class="sx">%Q{
  with %Q you can chose any character als string delimiters.
  opening brackets go with closing brackets.
}</span>
<span class="n">s</span> <span class="o">=</span> <span class="s1">'aBC'</span>
<span class="nb">puts</span> <span class="n">s</span><span class="p">.</span><span class="nf">upcase</span>      <span class="c1"># ABC</span>
<span class="nb">puts</span> <span class="n">s</span><span class="p">.</span><span class="nf">downcase</span>    <span class="c1"># abc</span>
<span class="nb">puts</span> <span class="n">s</span><span class="p">.</span><span class="nf">capitalize</span>  <span class="c1"># Abc</span>
<span class="nb">puts</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>          <span class="c1"># a    (index of character)</span>
<span class="nb">puts</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>        <span class="c1"># aB   (start + length)</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="s = 'just a string of characters'
s = &quot;string with #{the_variable} embedded&quot;
s = &quot;string with #{a+b/c} a ruby expression embedded&quot;
s = <<EOM
This is a so called &quot;Here-Document&quot;
it can contain many lines of text
and ends with the identifier EOM (that i chose!)
but only if it's alone on a line all by itself:
EOM
s = %Q|with %Q you can chose any character als string delimiters|
s = %Q{
  with %Q you can chose any character als string delimiters.
  opening brackets go with closing brackets.
}
s = 'aBC'
puts s.upcase      # ABC
puts s.downcase    # abc
puts s.capitalize  # Abc
puts s[0]          # a    (index of character)
puts s[0,2]        # aB   (start + length)
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-17' href='slides_ruby_commandline.html#/17'>◻</a></p>
<h3 id="boolean-values"><a class="anchorlink" href="#boolean-values"><span>5.3</span> Boolean Values</a></h3><p>In Ruby only <code>false</code> and <code>nil</code> are treated as false. This might
be confusing for programmers used to other languages with
more complex rules for truthyness:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">if</span> <span class="mi">0</span>
  <span class="nb">puts</span> <span class="s1">'0 is true!'</span>
<span class="k">end</span>
<span class="k">if</span> <span class="s2">"false"</span>
  <span class="nb">puts</span> <span class="s1">'"false" (the string) is true'</span>
<span class="k">end</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="if 0
  puts '0 is true!'
end
if &quot;false&quot;
  puts '&quot;false&quot; (the string) is true'
end
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-18' href='slides_ruby_commandline.html#/18'>◻</a></p>
<h3 id="symbols"><a class="anchorlink" href="#symbols"><span>5.4</span> Symbols</a></h3><p>A Symbol looks - at first glance - similar to a string: you can
invent it at any time (no 'declaration') and give it any name:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">a</span> <span class="o">=</span> <span class="ss">:foo</span>
<span class="n">a</span> <span class="o">=</span> <span class="ss">:bar</span>

<span class="n">s</span> <span class="o">=</span> <span class="s2">"foo"</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">"bar"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="a = :foo
a = :bar

s = &quot;foo&quot;
s = &quot;bar&quot;
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-19' href='slides_ruby_commandline.html#/19'>◻</a></p>
<p>But: there is always just one instance of a symbol while
there can be several strings that have the same content, but are different objects:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="ss">:foo</span><span class="p">.</span><span class="nf">object_id</span>
<span class="o">=&gt;</span> <span class="mi">635528</span>
<span class="o">&gt;&gt;</span> <span class="ss">:foo</span><span class="p">.</span><span class="nf">object_id</span>
<span class="o">=&gt;</span> <span class="mi">635528</span>

<span class="o">&gt;&gt;</span> <span class="s2">"foo"</span><span class="p">.</span><span class="nf">object_id</span>
<span class="o">=&gt;</span> <span class="mi">70099463087600</span>
<span class="o">&gt;&gt;</span> <span class="s2">"foo"</span><span class="p">.</span><span class="nf">object_id</span>
<span class="o">=&gt;</span> <span class="mi">70099463106400</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> :foo.object_id
=> 635528
>> :foo.object_id
=> 635528

>> &quot;foo&quot;.object_id
=> 70099463087600
>> &quot;foo&quot;.object_id
=> 70099463106400
">Copy</button>
</div>
<p>Use symbols where you would enums in a database or another language,
or if you need distinct constants, when the value is not important.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-20' href='slides_ruby_commandline.html#/20'>◻</a></p>
<h3 id="arrays"><a class="anchorlink" href="#arrays"><span>5.5</span> Arrays</a></h3><p>There are several ways of writing literal arrays in Ruby.
The first one looks like JSON:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"this"</span><span class="p">,</span> <span class="s2">"that"</span><span class="p">,</span> <span class="s2">"something"</span><span class="p">]</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"this"</span><span class="p">,</span> <span class="s2">"that"</span><span class="p">,</span> <span class="s2">"something"</span><span class="p">]</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> a = [&quot;this&quot;, &quot;that&quot;, &quot;something&quot;]
=> [&quot;this&quot;, &quot;that&quot;, &quot;something&quot;]
">Copy</button>
</div>
<p>For creating an array of words (strings without whitespace in them)
you can use <code>%w</code>:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="sx">%w(this that something)</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"this"</span><span class="p">,</span> <span class="s2">"that"</span><span class="p">,</span> <span class="s2">"something"</span><span class="p">]</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> a = %w(this that something)
=> [&quot;this&quot;, &quot;that&quot;, &quot;something&quot;]
">Copy</button>
</div>
<p>When creating an array of consecutive numbers you can
use a Range and convert it to an Array:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">4</span><span class="p">).</span><span class="nf">to_a</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> (1..4).to_a
=> [1, 2, 3, 4]
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-21' href='slides_ruby_commandline.html#/21'>◻</a></p>
<h3 id="hashes"><a class="anchorlink" href="#hashes"><span>5.6</span> Hashes</a></h3><p>A Hash is a datastructure similar to an array. An array uses integers as keys
while a Hash allows any type as the keys. Mostly strings and symbols are used:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">h</span> <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span>
<span class="n">h</span><span class="p">[</span><span class="s2">"alice"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"beer"</span>
<span class="n">h</span><span class="p">[</span><span class="s2">"chris"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"tea"</span>
<span class="n">h</span><span class="p">[</span><span class="s2">"bob"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"mate"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="h = Hash.new
h[&quot;alice&quot;] = &quot;beer&quot;
h[&quot;chris&quot;] = &quot;tea&quot;
h[&quot;bob&quot;] = &quot;mate&quot;
">Copy</button>
</div>
<p>But you can use other objects:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">t</span> <span class="o">=</span> <span class="no">Date</span><span class="p">.</span><span class="nf">new</span>
<span class="n">h</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"recently"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="t = Date.new
h[t] = &quot;recently&quot;
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-22' href='slides_ruby_commandline.html#/22'>◻</a></p>
<h4 id="hash-implementation"><a class="anchorlink" href="#hash-implementation"><span>5.6.1</span> Hash implementation</a></h4><p>The data structure behind a Ruby Hash is more complex
than an array: The key is sent through a function (called hash function)
that returns a number. This number is used as the index
for an array. If the result for two keys is the
same, a linked list is built.</p><p><img src="images/hash_table.svg" alt="How Hash(tabl)es work"></p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-23' href='slides_ruby_commandline.html#/23'>◻</a></p>
<h4 id="why-this-hash-implementation-questionmark"><a class="anchorlink" href="#why-this-hash-implementation-questionmark"><span>5.6.2</span> Why this Hash implementation?</a></h4><p>This datastructure seems like a serious waste of memory
at first. But it offers the following interesting features:</p>
<ul>
<li>looking up a key can be accomplished in constant time</li>
<li>inserting a new key / value pair can be accomplished in constant time</li>
</ul>
<p>Most scripting languages offer Hashes as a basic data type,
most compiled languages as a library. Read more about
Hashes in Wikipedia:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Hash_table">Hashtables in Wikipedia</a></li>
</ul>
<p>(If you don't know what "in constant time" means above, you
should learn more about the analysis of algorithms. e.g. by
taking an algorithms and data structure course as offered in the second
semester of most computer science programs.)</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-24' href='slides_ruby_commandline.html#/24'>◻</a></p>
<h4 id="implicit-form"><a class="anchorlink" href="#implicit-form"><span>5.6.3</span> Implicit Form</a></h4><p>A Hash can be created with Hash.new, or by writing it as a literal:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">roomnumber</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"Jane Doe"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">"Jim Doe"</span> <span class="o">=&gt;</span> <span class="mi">6</span> <span class="p">}</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="roomnumber = { &quot;Jane Doe&quot; => 10, &quot;Jim Doe&quot; => 6 }
">Copy</button>
</div>
<p>When the keys are symbols you can use an alternative syntax that
looks like json</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">style</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">:font_size</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="ss">:font_family</span> <span class="o">=&gt;</span> <span class="s2">"Arial"</span> <span class="p">}</span>
<span class="n">style</span> <span class="o">=</span> <span class="p">{</span>  <span class="ss">font_size:   </span><span class="mi">10</span><span class="p">,</span>  <span class="ss">font_family:   </span><span class="s2">"Arial"</span> <span class="p">}</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="style = { :font_size => 10, :font_family => &quot;Arial&quot; }
style = {  font_size:   10,  font_family:   &quot;Arial&quot; }
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-25' href='slides_ruby_commandline.html#/25'>◻</a></p>
<h4 id="a-hash-as-an-argument"><a class="anchorlink" href="#a-hash-as-an-argument"><span>5.6.4</span> A Hash as an Argument</a></h4><p>Before keyword arguments were added to ruby,
often a hash was used as the single argument for a method.
Calling the method then reads like named arguments:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">def</span> <span class="nf">apply_the_style</span><span class="p">(</span> <span class="n">h</span> <span class="p">)</span>
  <span class="o">...</span>
<span class="k">end</span>

<span class="n">apply_the_style</span><span class="p">(</span><span class="ss">font_size: </span><span class="mi">10</span><span class="p">,</span> <span class="ss">font_family: </span><span class="s2">"Arial"</span><span class="p">)</span>
<span class="n">apply_the_style</span> <span class="ss">font_size: </span><span class="mi">10</span><span class="p">,</span> <span class="ss">font_family: </span><span class="s2">"Arial"</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="def apply_the_style( h )
  ...
end

apply_the_style(font_size: 10, font_family: &quot;Arial&quot;)
apply_the_style font_size: 10, font_family: &quot;Arial&quot;
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-26' href='slides_ruby_commandline.html#/26'>◻</a></p>
<h2 id="frozen-vs-mutable"><a class="anchorlink" href="#frozen-vs-mutable"><span>6</span> Frozen vs Mutable</a></h2><p>Most objects in Ruby are mutabel by default.</p><div class="interstitial code">
<pre><code class="highlight plaintext"># mutable
&gt;&gt; configuration = { color: 'yellow', number: 10 }
=&gt; {:color=&gt;"yellow", :number=&gt;10}
&gt;&gt; configuration[:smoking] = false  # no problem, can add new key
=&gt; false
&gt;&gt; configuration[:number] = 2       # no problem, change value
=&gt; 2
&gt;&gt; configuration
=&gt; {:color=&gt;"yellow", :number=&gt;2, :smoking=&gt;false}
</code></pre>
<button class="clipboard-button" data-clipboard-text="# mutable
>> configuration = { color: 'yellow', number: 10 }
=> {:color=>&quot;yellow&quot;, :number=>10}
>> configuration[:smoking] = false  # no problem, can add new key
=> false
>> configuration[:number] = 2       # no problem, change value
=> 2
>> configuration
=> {:color=>&quot;yellow&quot;, :number=>2, :smoking=>false}
">Copy</button>
</div>
<p>You can freeze an object to make it immutable.
Notice that this is different from using a <code>const</code>
in JavaScript: changing the object in any way
will throw a runtime error.</p><div class="interstitial code">
<pre><code class="highlight plaintext"># frozen
&gt;&gt; configuration = { color: 'yellow', number: 10 }.freeze
=&gt; {:color=&gt;"yellow", :number=&gt;10}
&gt;&gt; configuration[:smoking] = false
=&gt; RuntimeError: can't modify frozen Hash
&gt;&gt; configuration[:number] = 2
=&gt;RuntimeError: can't modify frozen Hash
</code></pre>
<button class="clipboard-button" data-clipboard-text="# frozen
>> configuration = { color: 'yellow', number: 10 }.freeze
=> {:color=>&quot;yellow&quot;, :number=>10}
>> configuration[:smoking] = false
=> RuntimeError: can't modify frozen Hash
>> configuration[:number] = 2
=>RuntimeError: can't modify frozen Hash
">Copy</button>
</div>
<p>You cannot modify a frozen object, but you can copy it with <code>.dup</code></p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-27' href='slides_ruby_commandline.html#/27'>◻</a></p>
<h3 id="frozen-string-literals"><a class="anchorlink" href="#frozen-string-literals"><span>6.1</span> Frozen String Literals</a></h3><p>Since Ruby 2.3 all String literals can be frozen by adding
this line to to top of a ruby file:</p><div class="interstitial code">
<pre><code class="highlight plaintext"># frozen_string_literal: true
</code></pre>
<button class="clipboard-button" data-clipboard-text="# frozen_string_literal: true
">Copy</button>
</div>
<p>This is switched on in Rails since 5.2.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-28' href='slides_ruby_commandline.html#/28'>◻</a></p>
<h2 id="conditions"><a class="anchorlink" href="#conditions"><span>7</span> Conditions</a></h2><p>The Basic condition with <code>if</code> works like in most programming languages.</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">10</span>
  <span class="nb">puts</span> <span class="s1">'cannot compute, not enough fingers'</span>
<span class="k">elsif</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">0</span>
  <span class="nb">puts</span> <span class="s1">'cannot compute, negative number'</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s1">'input correct'</span>
<span class="k">end</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="if i > 10
  puts 'cannot compute, not enough fingers'
elsif i <= 0
  puts 'cannot compute, negative number'
else
  puts 'input correct'
end
">Copy</button>
</div>
<p>The <code>case</code> expression can match one value in several ways.</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">case</span> <span class="n">x</span>
<span class="k">when</span> <span class="mi">1</span><span class="o">..</span><span class="mi">5</span>
  <span class="nb">puts</span> <span class="s2">"It's between 1 and 5"</span>
<span class="k">when</span> <span class="mi">6</span>
  <span class="nb">puts</span> <span class="s2">"It's 6"</span>
<span class="k">when</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="s2">"bar"</span>
  <span class="nb">puts</span> <span class="s2">"It's either foo or bar"</span>
<span class="k">when</span> <span class="no">String</span>
  <span class="nb">puts</span> <span class="s2">"You passed a string"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"You gave me </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2"> -- I have no idea what to do with that."</span>
<span class="k">end</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="case x
when 1..5
  puts &quot;It's between 1 and 5&quot;
when 6
  puts &quot;It's 6&quot;
when &quot;foo&quot;, &quot;bar&quot;
  puts &quot;It's either foo or bar&quot;
when String
  puts &quot;You passed a string&quot;
else
  puts &quot;You gave me #{x} -- I have no idea what to do with that.&quot;
end
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-29' href='slides_ruby_commandline.html#/29'>◻</a></p>
<h3 id="shorthand-version"><a class="anchorlink" href="#shorthand-version"><span>7.1</span> Shorthand version</a></h3><p>If the <code>if</code> only has one statement
you can write it in a shorthand version:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">if</span> <span class="n">errors</span> <span class="o">&gt;</span> <span class="mi">0</span>
  <span class="nb">puts</span> <span class="s2">"Some errors occured"</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="s2">"Some errors occured"</span> <span class="k">if</span> <span class="n">errors</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="if errors > 0
  puts &quot;Some errors occured&quot;
end

puts &quot;Some errors occured&quot; if errors > 0
">Copy</button>
</div>
<p>This syntax should be familiar to you if
you understand English. (yes, that's an English
sentence using the same syntax).</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-30' href='slides_ruby_commandline.html#/30'>◻</a></p>
<h3 id="boolean-operators-as-conditions"><a class="anchorlink" href="#boolean-operators-as-conditions"><span>7.2</span> Boolean Operators as conditions</a></h3><p>When Ruby evaluates a boolean operator,
it does as little work as possible. It
stops evaluation as soon as the result is clear:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="c1"># the second argument is not evaluated!</span>
<span class="n">a</span> <span class="o">=</span>  <span class="kp">true</span> <span class="o">||</span> <span class="o">...</span>
<span class="n">a</span> <span class="o">=</span> <span class="kp">false</span> <span class="o">&amp;&amp;</span> <span class="o">...</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="# the second argument is not evaluated!
a =  true || ...
a = false &amp;&amp; ...
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-31' href='slides_ruby_commandline.html#/31'>◻</a></p>
<p>The boolean operators don't just return true or
false, they return the argument last evaluated.
This is often used to set a variable:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">default_value</span> <span class="o">=</span> <span class="s2">"gray"</span>
<span class="n">input_value</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="c1"># here input_value might be set...</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">input_value</span> <span class="o">||</span> <span class="n">default_value</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="default_value = &quot;gray&quot;
input_value = nil
# here input_value might be set...
a = input_value || default_value
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-32' href='slides_ruby_commandline.html#/32'>◻</a></p>
<h2 id="enumerables"><a class="anchorlink" href="#enumerables"><span>8</span> Enumerables</a></h2><p>When working with a list of values Ruby
helps you think about data on a new, more abstract level
with Enumerables:</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-33' href='slides_ruby_commandline.html#/33'>◻</a></p>
<h3 id="piping-data"><a class="anchorlink" href="#piping-data"><span>8.1</span> Piping Data</a></h3><p>From the UNIX shell you may know the concept of piping data
from one command to the next:</p><div class="interstitial code">
<pre><code class="highlight shell"><span class="c"># I know mysql server is running, but which user is it running as ?</span>
<span class="c">#</span>
<span class="nv">$ </span>ps aux | <span class="nb">grep </span>mysqld_safe | <span class="nb">head</span> <span class="nt">-1</span> | <span class="nb">cut</span> <span class="nt">-c1-8</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="# I know mysql server is running, but which user is it running as ?
#
$ ps aux | grep mysqld_safe | head -1 | cut -c1-8
">Copy</button>
</div>
<p>This is a sequence of Unix programs connected by the pipe symbol (|).
Each program in this chain reads data from its "Standard Input" and
writes data to its "Standard Output." The pipe symbol serves as a conduit,
channeling the output from one program as input to the subsequent program in the sequence.
The data being transferred is plain text, often spanning multiple lines.</p><p>Try it out on your commmand line by building up
the pipe step by step:</p><div class="interstitial code">
<pre><code class="highlight shell"><span class="nv">$ </span>ps aux | less
<span class="nv">$ </span>ps aux | <span class="nb">grep </span>mysqld_safe | less
<span class="nv">$ </span>ps aux | <span class="nb">grep </span>mysqld_safe | <span class="nb">head</span> <span class="nt">-1</span> <span class="o">||</span> less
<span class="nv">$ </span>ps aux | <span class="nb">grep </span>mysqld_safe | <span class="nb">head</span> <span class="nt">-1</span> | <span class="nb">cut</span> <span class="nt">-c1-8</span>  | less
</code></pre>
<button class="clipboard-button" data-clipboard-text="$ ps aux | less
$ ps aux | grep mysqld_safe | less
$ ps aux | grep mysqld_safe | head -1 || less
$ ps aux | grep mysqld_safe | head -1 | cut -c1-8  | less
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-34' href='slides_ruby_commandline.html#/34'>◻</a></p>
<h3 id="piping-data-in-ruby"><a class="anchorlink" href="#piping-data-in-ruby"><span>8.2</span> Piping Data in Ruby</a></h3><p>When piping data in ruby you can start with
an Array</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">languages</span> <span class="o">=</span> <span class="sx">%w[Fortran Ada C C++ Java Scala Haskell]</span>
<span class="n">languages</span><span class="p">.</span><span class="nf">sort</span><span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="languages = %w[Fortran Ada C C++ Java Scala Haskell]
languages.sort.first(3)
">Copy</button>
</div>
<p>The elements of the array are piped into the sort-method, which again outputs a list
of elements. These are piped into first, which only returns the first three and discards
the rest. The result is a list of 3 elements.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-35' href='slides_ruby_commandline.html#/35'>◻</a></p>
<p>Here are some simple methods you can use on Arrays (and other Enumerables)
that return a new Enumerable. You can connect theses methods to each other:</p>
<ul>
<li>sort</li>
<li>first(n)</li>
<li>drop(n)</li>
<li>last(n)</li>
<li>grep(/pattern/)</li>
<li>chunk(method)</li>
<li>reverse</li>
</ul>
<p>The method <code>tally</code> counts the occourance of elements and returns a hash:</p><div class="interstitial code">
<pre><code class="highlight plaintext">["a", "b", "c", "b"].tally
#=&gt; {"a"=&gt;1, "b"=&gt;2, "c"=&gt;1}
</code></pre>
<button class="clipboard-button" data-clipboard-text="[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;].tally
#=> {&quot;a&quot;=>1, &quot;b&quot;=>2, &quot;c&quot;=>1}
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-36' href='slides_ruby_commandline.html#/36'>◻</a></p>
<p>Some other methods return just a single value, and thus end the pipe:</p>
<ul>
<li>count</li>
<li>count("only this exact value")</li>
<li>max</li>
<li>min</li>
</ul>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-37' href='slides_ruby_commandline.html#/37'>◻</a></p>
<p>More advanced methods take a Block (of code) as their argument.
The method <code>map</code> applys the Block to each piece of data, and
returns an Enumerable of the new data:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">map</span><span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>

<span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">map</span><span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="p">}.</span><span class="nf">reverse</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> (1..10).map{ |x| 2*x }
=> [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

>> (1..10).map{ |x| 2*x }.reverse
=> [20, 18, 16, 14, 12, 10, 8, 6, 4, 2]
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-38' href='slides_ruby_commandline.html#/38'>◻</a></p>
<p>If the computation is more complex you can write
the Block on several lines, ending with <code>end</code></p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
<span class="sc">?&gt;</span>   <span class="n">x</span><span class="o">*</span><span class="mi">2</span>
<span class="o">&gt;&gt;</span> <span class="k">end</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>

<span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
<span class="sc">?&gt;</span>   <span class="n">x</span><span class="o">*</span><span class="mi">2</span>
<span class="o">&gt;&gt;</span> <span class="k">end</span><span class="p">.</span><span class="nf">reverse</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text=">> (1..10).map do |x|
?>   x*2
>> end
=> [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

>> (1..10).map do |x|
?>   x*2
>> end.reverse
=> [20, 18, 16, 14, 12, 10, 8, 6, 4, 2]
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-39' href='slides_ruby_commandline.html#/39'>◻</a></p>
<p>Some other methods for Enumerables that take a Block:</p>
<ul>
<li><code>map {|x|</code> new value computed from x <code>}</code></li>
<li><code>map.with_index {|x, i|</code> new value computed from x and i, the position in the array <code>}</code></li>
<li><code>select {|x|</code> should x be selected? <code>}</code></li>
<li><code>reduce(:+)</code></li>
<li><code>reduce{|memo, item|</code> compute new value for memo, using current item <code>}</code></li>
</ul>
<p>These methods should help you avoid loops and thus simplify
code considerably.</p><p>Read the Reference on</p>
<ul>
<li><a href="https://ruby-doc.org/core-2.5.3/Enumerable.html">Enumerable</a></li>
<li><a href="https://ruby-doc.org/core-2.5.3/Array.html">Array</a></li>
</ul>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-40' href='slides_ruby_commandline.html#/40'>◻</a></p>
<h2 id="blocks"><a class="anchorlink" href="#blocks"><span>9</span> Blocks</a></h2><p>Blocks of code are not just used in Enumerables, they are
a basic building block of ruby. You can write functions
that take a Block as an argument:</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-41' href='slides_ruby_commandline.html#/41'>◻</a></p>
<h3 id="my-function-takes-a-block-of-code"><a class="anchorlink" href="#my-function-takes-a-block-of-code"><span>9.1</span> My Function takes a Block of Code</a></h3><p>Any function you write can take an additional block
of code as its last argument. The block is only
called if and when you call <code>yield</code> inside the function:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="k">def</span> <span class="nf">my_function_with_block_arg</span>
  <span class="nb">puts</span> <span class="s2">"code in the funtion"</span>
  <span class="k">yield</span>
  <span class="nb">puts</span> <span class="s2">"more code in the function"</span>
<span class="k">end</span>

<span class="n">my_function_with_block_arg</span> <span class="p">{</span> <span class="nb">puts</span> <span class="s2">"code in the block"</span> <span class="p">}</span>

<span class="c1"># OUTPUT:</span>
<span class="c1"># code in the funtion</span>
<span class="c1"># code in the block</span>
<span class="c1"># more code in the function</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="def my_function_with_block_arg
  puts &quot;code in the funtion&quot;
  yield
  puts &quot;more code in the function&quot;
end

my_function_with_block_arg { puts &quot;code in the block&quot; }

# OUTPUT:
# code in the funtion
# code in the block
# more code in the function
">Copy</button>
</div>
<p>There is an alternate syntax for calling the function: instead
of the curly braces you can use <code>do</code> and <code>end</code>:</p><div class="interstitial code">
<pre><code class="highlight ruby"><span class="n">my_function_with_block_arg</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">"code in the block"</span>
  <span class="nb">puts</span> <span class="s2">"more code in the block"</span>
<span class="k">end</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="my_function_with_block_arg do
  puts &quot;code in the block&quot;
  puts &quot;more code in the block&quot;
end
">Copy</button>
</div>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-42' href='slides_ruby_commandline.html#/42'>◻</a></p>
<h2 id="summary"><a class="anchorlink" href="#summary"><span>10</span> Summary</a></h2><p>You now know about the basic data types, about enumerables and about blocks -
features that distinguish Ruby from other scripting languages.</p><p>If you want to get more practical with Ruby, you can
do the
<a href="https://github.com/backend-development/learn_ruby">Learn Ruby</a> test driven Ruby exercises.</p><p>This should be a good enough basis to start with Rails.
But do take every
opportunity you get to learn more about Ruby itself: if you are unsure about
a line of code, look it up in the Ruby documentation and use the
opportunity to read a bit more than strictly necessary.</p></div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-43' href='slides_ruby_commandline.html#/43'>◻</a></p>
<h3 id="online-resources"><a class="anchorlink" href="#online-resources"><span>10.1</span> Online Resources</a></h3>
<ul>
<li><a href="https://ruby.github.io/TryRuby/">try ruby</a></li>
<li><a href="https://learnbyexample.github.io/learn_ruby_oneliners/one-liner-introduction.html">learn ruby one-liners</a></li>
</ul>
</div>
<div class='slide'>
<p class='slide_break_block'><a class='slide_break' id='slide-44' href='slides_ruby_commandline.html#/44'>◻</a></p>
<h3 id="books"><a class="anchorlink" href="#books"><span>10.2</span> Books</a></h3>
<ul>
<li>Flanagan, Matsumoto(2008): <a href="https://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177">The Ruby Programming Language</a>. O'Reilly. ISBN 0596516177.</li>
<li>Thomas(2013): <a href="https://www.amazon.com/Programming-Ruby-1-9-2-0-Programmers/dp/1937785491/">Programming Ruby 1.9 + 2.0</a>. Pragmatic Porgrammers. ISBN 1937785491</li>
<li>Black, Josef (2019): <a href="https://www.amazon.de/Well-Grounded-Rubyist-David-Black/dp/1617295213">The Well Grounded Rubyist</a></li>
<li>Olsen (2011): <a href="https://www.amazon.com/Eloquent-Ruby-Addison-Wesley-Professional/dp/0321584104/">Eloquent Ruby</a>. Addison-Wesley. ISBN 0321584104</li>
<li>Tate(2010): <a href="https://www.amazon.com/Seven-Languages-Weeks-Programming-Programmers/dp/193435659X/">Seven Languages in Seven Weeks: A Pragmatic Guide to Learning Programming Languages</a>. Pragmatic Programmers. ISBN 193435659X</li>
</ul>
</div>
        </div>
      </div>
    </main>
    <hr class="hide" />
    <footer id="page_footer">
      <div class="wrapper">
        <p class="copyright">published under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/at/deed.de">creative commons by-nc-sa</a> in 2012-2025 by <a href="https://brigitte-jellinek.at">Brigitte Jellinek</a>.
</p>
<p>If you want to contribute: <a href="https://github.com/backend-development/backend-development-textbook/fork">fork the source on github</a>
</p>
<p>Favicon "backend development" by Arkinasi from <a href="https://thenounproject.com/browse/icons/term/backend-development/" target="_blank" title="backend development Icons">Noun Project</a> (CC BY 3.0)</p>

      </div>
    </footer>
  </body>
</html>
